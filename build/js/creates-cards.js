import{filterArray,getFilterTransfer}from"./filter.js";const CARRIER={FV:"../image/logo-avia/fv.png",MH:"../image/logo-avia/mh.png",SU:"../image/logo-avia/su.png",EY:"../image/logo-avia/ey.png",S7:"../image/logo-avia/s7.png",TG:"../image/logo-avia/tg.png",EK:"../image/logo-avia/ek.png"},TRANSFER={0:"Без пересадок",1:"1 пересадка",2:"2 пересадки",3:"3 пересадки"},NUMBER_OF_ELEMENTS=5,getTimeFromMins=e=>`${Math.trunc(e/60)}ч ${e%60}м`,getTime=e=>new Date(e).toLocaleTimeString([],{timeStyle:"short"}),getNewDate=(e,t)=>{const o=new Date(e);return o.setMinutes(o.getMinutes()+t),getTime(o)},createDestination=e=>{const t=document.querySelectorAll(".information-list__item"),o=document.querySelector("#card-avia").content.querySelector(".direction").cloneNode(!0);var r;o.querySelector(".route-title").textContent=`${e.origin} - ${e.destination}`,o.querySelector(".route-subtitle").textContent=`${getTime(e.date)} - ${getNewDate(e.date,e.duration)}`,o.querySelector(".length-subtitle").textContent=(r=e.duration,`${Math.trunc(r/60)}ч ${r%60}м`),o.querySelector(".stops-title").textContent=TRANSFER[e.stops.length],o.querySelector(".stops-subtitle").textContent=e.stops.join(", "),t.forEach((e=>{e.append(o)}))},clear=()=>{document.querySelector(".information-list").innerHTML=""},createAviaSegments=e=>{document.querySelector(".information-list").innerHTML="",filterArray(e).filter((e=>getFilterTransfer(e))).slice(0,5).forEach((e=>{const t=document.querySelector(".information-list"),o=document.querySelector("#card").content.querySelector(".information-list__item").cloneNode(!0);o.querySelector(".information-list__price").textContent=`${e.price.toLocaleString("ru-RU")} P`,o.querySelector(".information-list__image").src=CARRIER[e.carrier],t.appendChild(o),e.segments.forEach((e=>createDestination(e)))}))};export{createAviaSegments};